@echo off
echo ========================================
echo TESTE COMPLETO - PROJETO SGHSS VIDA PLUS
echo ========================================
echo.
echo Desenvolvedor: Marcio Machado Moreira
echo RU: 4543545
echo Data do Teste: %date% %time%
echo.
echo ========================================
echo 1. VERIFICACAO DE ARQUIVOS PRINCIPAIS
echo ========================================
echo.

set pass=0
set fail=0

echo [TESTE 1.1] Verificando arquivos de configuracao...
if exist "pom.xml" (
    echo ‚úÖ pom.xml - OK
    set /a pass+=1
) else (
    echo ‚ùå pom.xml - FALHA
    set /a fail+=1
)

if exist "docker-compose.yml" (
    echo ‚úÖ docker-compose.yml - OK
    set /a pass+=1
) else (
    echo ‚ùå docker-compose.yml - FALHA
    set /a fail+=1
)

if exist "Dockerfile" (
    echo ‚úÖ Dockerfile - OK
    set /a pass+=1
) else (
    echo ‚ùå Dockerfile - FALHA
    set /a fail+=1
)

if exist "src\main\resources\application.yml" (
    echo ‚úÖ application.yml - OK
    set /a pass+=1
) else (
    echo ‚ùå application.yml - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 1.2] Verificando documentacao...
if exist "README.md" (
    echo ‚úÖ README.md - OK
    set /a pass+=1
) else (
    echo ‚ùå README.md - FALHA
    set /a fail+=1
)

if exist "DOCUMENTO_FINAL_PDF.md" (
    echo ‚úÖ DOCUMENTO_FINAL_PDF.md - OK
    set /a pass+=1
) else (
    echo ‚ùå DOCUMENTO_FINAL_PDF.md - FALHA
    set /a fail+=1
)

if exist "LICENSE" (
    echo ‚úÖ LICENSE - OK
    set /a pass+=1
) else (
    echo ‚ùå LICENSE - FALHA
    set /a fail+=1
)

echo.
echo ========================================
echo 2. VERIFICACAO DE ESTRUTURA JAVA
echo ========================================
echo.

echo [TESTE 2.1] Verificando estrutura de pacotes...
if exist "src\main\java\com\vidaplus\sghss" (
    echo ‚úÖ Estrutura de pacotes - OK
    set /a pass+=1
) else (
    echo ‚ùå Estrutura de pacotes - FALHA
    set /a fail+=1
)

if exist "src\main\java\com\vidaplus\sghss\SghssApplication.java" (
    echo ‚úÖ Classe principal - OK
    set /a pass+=1
) else (
    echo ‚ùå Classe principal - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 2.2] Verificando entidades JPA...
set entidades=0
if exist "src\main\java\com\vidaplus\sghss\model\Paciente.java" (
    echo ‚úÖ Paciente.java - OK
    set /a entidades+=1
    set /a pass+=1
) else (
    echo ‚ùå Paciente.java - FALHA
    set /a fail+=1
)

if exist "src\main\java\com\vidaplus\sghss\model\Medico.java" (
    echo ‚úÖ Medico.java - OK
    set /a entidades+=1
    set /a pass+=1
) else (
    echo ‚ùå Medico.java - FALHA
    set /a fail+=1
)

if exist "src\main\java\com\vidaplus\sghss\model\Consulta.java" (
    echo ‚úÖ Consulta.java - OK
    set /a entidades+=1
    set /a pass+=1
) else (
    echo ‚ùå Consulta.java - FALHA
    set /a fail+=1
)

if exist "src\main\java\com\vidaplus\sghss\model\Medicamento.java" (
    echo ‚úÖ Medicamento.java - OK
    set /a entidades+=1
    set /a pass+=1
) else (
    echo ‚ùå Medicamento.java - FALHA
    set /a fail+=1
)

if exist "src\main\java\com\vidaplus\sghss\model\Prontuario.java" (
    echo ‚úÖ Prontuario.java - OK
    set /a entidades+=1
    set /a pass+=1
) else (
    echo ‚ùå Prontuario.java - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 2.3] Verificando controllers REST...
set controllers=0
if exist "src\main\java\com\vidaplus\sghss\controller\PacienteController.java" (
    echo ‚úÖ PacienteController.java - OK
    set /a controllers+=1
    set /a pass+=1
) else (
    echo ‚ùå PacienteController.java - FALHA
    set /a fail+=1
)

if exist "src\main\java\com\vidaplus\sghss\controller\MedicoController.java" (
    echo ‚úÖ MedicoController.java - OK
    set /a controllers+=1
    set /a pass+=1
) else (
    echo ‚ùå MedicoController.java - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 2.4] Verificando services...
set services=0
if exist "src\main\java\com\vidaplus\sghss\service\PacienteService.java" (
    echo ‚úÖ PacienteService.java - OK
    set /a services+=1
    set /a pass+=1
) else (
    echo ‚ùå PacienteService.java - FALHA
    set /a fail+=1
)

if exist "src\main\java\com\vidaplus\sghss\service\MedicoService.java" (
    echo ‚úÖ MedicoService.java - OK
    set /a services+=1
    set /a pass+=1
) else (
    echo ‚ùå MedicoService.java - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 2.5] Verificando repositories...
set repositories=0
if exist "src\main\java\com\vidaplus\sghss\repository\PacienteRepository.java" (
    echo ‚úÖ PacienteRepository.java - OK
    set /a repositories+=1
    set /a pass+=1
) else (
    echo ‚ùå PacienteRepository.java - FALHA
    set /a fail+=1
)

if exist "src\main\java\com\vidaplus\sghss\repository\MedicoRepository.java" (
    echo ‚úÖ MedicoRepository.java - OK
    set /a repositories+=1
    set /a pass+=1
) else (
    echo ‚ùå MedicoRepository.java - FALHA
    set /a fail+=1
)

echo.
echo ========================================
echo 3. TESTE DE CONTEUDO DOS ARQUIVOS
echo ========================================
echo.

echo [TESTE 3.1] Verificando anotacoes JPA...
findstr /C:"@Entity" "src\main\java\com\vidaplus\sghss\model\Paciente.java" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ @Entity em Paciente - OK
    set /a pass+=1
) else (
    echo ‚ùå @Entity em Paciente - FALHA
    set /a fail+=1
)

findstr /C:"@Data" "src\main\java\com\vidaplus\sghss\model\Paciente.java" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ @Data em Paciente - OK
    set /a pass+=1
) else (
    echo ‚ùå @Data em Paciente - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 3.2] Verificando anotacoes REST...
findstr /C:"@RestController" "src\main\java\com\vidaplus\sghss\controller\PacienteController.java" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ @RestController em PacienteController - OK
    set /a pass+=1
) else (
    echo ‚ùå @RestController em PacienteController - FALHA
    set /a fail+=1
)

findstr /C:"@RequestMapping" "src\main\java\com\vidaplus\sghss\controller\PacienteController.java" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ @RequestMapping em PacienteController - OK
    set /a pass+=1
) else (
    echo ‚ùå @RequestMapping em PacienteController - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 3.3] Verificando dependencias Maven...
findstr /C:"spring-boot-starter-web" "pom.xml" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ Spring Boot Web dependency - OK
    set /a pass+=1
) else (
    echo ‚ùå Spring Boot Web dependency - FALHA
    set /a fail+=1
)

findstr /C:"spring-boot-starter-data-jpa" "pom.xml" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ Spring Boot JPA dependency - OK
    set /a pass+=1
) else (
    echo ‚ùå Spring Boot JPA dependency - FALHA
    set /a fail+=1
)

findstr /C:"mysql-connector" "pom.xml" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ MySQL Connector dependency - OK
    set /a pass+=1
) else (
    echo ‚ùå MySQL Connector dependency - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 3.4] Verificando configuracao de banco...
findstr /C:"mysql" "src\main\resources\application.yml" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ Configuracao MySQL - OK
    set /a pass+=1
) else (
    echo ‚ùå Configuracao MySQL - FALHA
    set /a fail+=1
)

findstr /C:"8080" "src\main\resources\application.yml" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ Porta 8080 configurada - OK
    set /a pass+=1
) else (
    echo ‚ùå Porta 8080 configurada - FALHA
    set /a fail+=1
)

echo.
echo ========================================
echo 4. TESTE DE DOCUMENTACAO
echo ========================================
echo.

echo [TESTE 4.1] Verificando documentacao academica...
if exist "CRONOGRAMA_ACADEMICO.md" (
    echo ‚úÖ CRONOGRAMA_ACADEMICO.md - OK
    set /a pass+=1
) else (
    echo ‚ùå CRONOGRAMA_ACADEMICO.md - FALHA
    set /a fail+=1
)

if exist "FASE_4_PLANO_TESTES.md" (
    echo ‚úÖ FASE_4_PLANO_TESTES.md - OK
    set /a pass+=1
) else (
    echo ‚ùå FASE_4_PLANO_TESTES.md - FALHA
    set /a fail+=1
)

if exist "FASE_5_DOCUMENTACAO_FINAL.md" (
    echo ‚úÖ FASE_5_DOCUMENTACAO_FINAL.md - OK
    set /a pass+=1
) else (
    echo ‚ùå FASE_5_DOCUMENTACAO_FINAL.md - FALHA
    set /a fail+=1
)

echo.
echo [TESTE 4.2] Verificando instrucoes...
if exist "EXECUTAR.md" (
    echo ‚úÖ EXECUTAR.md - OK
    set /a pass+=1
) else (
    echo ‚ùå EXECUTAR.md - FALHA
    set /a fail+=1
)

if exist "INSTRUCOES_GITHUB.md" (
    echo ‚úÖ INSTRUCOES_GITHUB.md - OK
    set /a pass+=1
) else (
    echo ‚ùå INSTRUCOES_GITHUB.md - FALHA
    set /a fail+=1
)

echo.
echo ========================================
echo 5. TESTE DE VALIDACAO DE DADOS
echo ========================================
echo.

echo [TESTE 5.1] Verificando informacoes do desenvolvedor...
findstr /C:"Marcio Machado Moreira" "README.md" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ Nome do desenvolvedor - OK
    set /a pass+=1
) else (
    echo ‚ùå Nome do desenvolvedor - FALHA
    set /a fail+=1
)

findstr /C:"4543545" "README.md" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ RU do desenvolvedor - OK
    set /a pass+=1
) else (
    echo ‚ùå RU do desenvolvedor - FALHA
    set /a fail+=1
)

findstr /C:"github.com/Marcio606" "README.md" >nul
if %errorlevel% equ 0 (
    echo ‚úÖ Link do GitHub - OK
    set /a pass+=1
) else (
    echo ‚ùå Link do GitHub - FALHA
    set /a fail+=1
)

echo.
echo ========================================
echo RESULTADO FINAL DOS TESTES
echo ========================================
echo.

echo üìä ESTATISTICAS GERAIS:
echo    - Testes Aprovados: %pass%
echo    - Testes Reprovados: %fail%
echo    - Total de Testes: %pass%/%fail%

echo.
echo üìä ESTATISTICAS POR CATEGORIA:
echo    - Entidades JPA: %entidades%/5
echo    - Controllers REST: %controllers%/2
echo    - Services: %services%/2
echo    - Repositories: %repositories%/2

echo.
echo ========================================
echo AVALIACAO FINAL
echo ========================================
echo.

set /a porcentagem=(%pass%*100)/(%pass%+%fail%)

echo üéØ TAXA DE APROVACAO: %porcentagem%%%

if %porcentagem% geq 90 (
    echo.
    echo üéâ PROJETO SGHSS VIDA PLUS: EXCELENTE!
    echo ‚úÖ Estrutura completa e funcional
    echo ‚úÖ Codigo bem organizado
    echo ‚úÖ Documentacao completa
    echo ‚úÖ Pronto para producao
    echo.
    echo üèÜ CLASSIFICACAO: A+ (EXCELENTE)
) else if %porcentagem% geq 80 (
    echo.
    echo ‚úÖ PROJETO SGHSS VIDA PLUS: BOM!
    echo ‚úÖ Estrutura adequada
    echo ‚úÖ Codigo funcional
    echo ‚úÖ Documentacao presente
    echo ‚ö†Ô∏è  Alguns ajustes menores necessarios
    echo.
    echo üèÜ CLASSIFICACAO: B (BOM)
) else if %porcentagem% geq 70 (
    echo.
    echo ‚ö†Ô∏è  PROJETO SGHSS VIDA PLUS: REGULAR
    echo ‚ö†Ô∏è  Estrutura basica presente
    echo ‚ö†Ô∏è  Codigo funcional com limitacoes
    echo ‚ö†Ô∏è  Documentacao incompleta
    echo ‚ùå Ajustes significativos necessarios
    echo.
    echo üèÜ CLASSIFICACAO: C (REGULAR)
) else (
    echo.
    echo ‚ùå PROJETO SGHSS VIDA PLUS: PRECISA MELHORIAS
    echo ‚ùå Estrutura incompleta
    echo ‚ùå Codigo com problemas
    echo ‚ùå Documentacao ausente
    echo ‚ùå Revisao completa necessaria
    echo.
    echo üèÜ CLASSIFICACAO: D (PRECISA MELHORIAS)
)

echo.
echo ========================================
echo RECOMENDACOES
echo ========================================
echo.

if %porcentagem% geq 90 (
    echo üöÄ PROJETO PRONTO PARA:
    echo    ‚úÖ Upload no GitHub
    echo    ‚úÖ Execucao em producao
    echo    ‚úÖ Apresentacao academica
    echo    ‚úÖ Entrega final
    echo    ‚úÖ Deploy em servidor
) else (
    echo üîß ACOES RECOMENDADAS:
    echo    üìù Revisar arquivos com falha
    echo    üîç Verificar dependencias
    echo    üìö Completar documentacao
    echo    üß™ Executar testes adicionais
    echo    üîÑ Fazer ajustes necessarios
)

echo.
echo ========================================
echo INFORMACOES DO PROJETO
echo ========================================
echo.
echo üîó Repositorio: https://github.com/Marcio606/sghss-vidaplus
echo üìß Email: marcio606@email.com
echo üéì RU: 4543545
echo üë®‚Äçüíª Desenvolvedor: Marcio Machado Moreira
echo üìÖ Data do Teste: %date% %time%
echo.
echo Pressione qualquer tecla para sair...
pause >nul
